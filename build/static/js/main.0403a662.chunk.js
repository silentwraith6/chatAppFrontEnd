(this["webpackJsonpfrontend-chat-application"]=this["webpackJsonpfrontend-chat-application"]||[]).push([[0],{127:function(e,t){},130:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(8),i=a.n(r),l=(a(92),a(77)),s=a(34),m=a(35),c=a(41),u=a(40),p=a(20),d=a(4),h=a(131),g=a(159),f=a(160),b=a(161),y=a(162),x=a(164),v=a(163),E=a(72),k=a.n(E),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var o;Object(s.a)(this,a),(o=t.call(this,e)).addMessage=function(e){o.setState({messages:[].concat(Object(l.a)(o.state.messages),[e])})};var n=!1;return o.props.location.state&&o.props.location.state.userName&&o.props.location.state.roomName&&(n=!0),o.state={userName:n?o.props.location.state.userName:"",messages:[],roomName:n?o.props.location.state.roomName:"",userJoined:n},o.props.socket.emit("join",{userName:o.state.userName,roomName:o.state.roomName},(function(e){})),o}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("message",(function(t){console.log(t),e.addMessage(t)}))}},{key:"componentDidUpdate",value:function(){document.getElementById("dummyBottom").scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.theme;return this.state.userJoined?n.a.createElement(h.a,{className:a.rootCont},n.a.createElement(g.a,{style:{height:"11%",backgroundColor:"#5A5890"}},n.a.createElement(f.a,{style:{color:"white",fontSize:"22px",fontFamily:"cursive",marginLeft:"10px",display:"flex",height:"100%",alignItems:"center"}},"Room Name : ",this.state.roomName,n.a.createElement("br",null),"Participant Name : ",this.state.userName)),n.a.createElement(h.a,{className:a.msgDisplay,style:{}},n.a.createElement(b.a,{style:{bottom:"0"}},this.state.messages.map((function(t){return n.a.createElement(y.a,{className:t.sentBy===e.state.userName?a.ownMessage:"admin"===t.sentBy?a.adminMessage:a.otherMessage},n.a.createElement("div",{style:{maxWidth:"243px"}},t.sentBy!==e.state.userName&&"admin"!==t.sentBy?n.a.createElement("div",{style:{color:"orange",fontSize:"15px"}},t.sentBy):null,"admin"===t.sentBy?n.a.createElement("div",{style:{color:"black",fontSize:"16px",fontFamily:"roboto",fontWeight:"400",lineHeight:"1.5",wordWrap:"break-word"}},t.text):n.a.createElement("div",{style:{color:"white",fontSize:"18px",fontFamily:"roboto",fontWeight:"400",lineHeight:"1.5",wordWrap:"break-word"}},t.text),"admin"===t.sentBy?null:n.a.createElement("div",{style:{color:"white",textAlign:"end",fontSize:"16px",fontFamily:"roboto",fontWeight:"400",lineHeight:"1.43"}},k()(t.createdAt).format("h:mm a"))))}))),n.a.createElement("div",{style:{clear:"both"},id:"dummyBottom"})),n.a.createElement("form",{style:{height:"10%",minWidth:"300px",textAlign:"center",maxWidth:"720px"}},n.a.createElement(x.a,{className:a.inputRoot,InputProps:{className:a.inputInput},margin:"normal",variant:"filled",required:!0,id:"msg",label:"Type your message",color:"primary",autoFocus:!0,style:{width:"70%"}}),n.a.createElement(v.a,{type:"submit",id:"send",variant:"contained",color:"primary",style:{marginLeft:"20px",marginBottom:"20px",verticalAlign:"bottom",backgroundColor:"#298c18"},onClick:function(t){t.preventDefault();var a={message:document.getElementById("msg").value,senderName:e.state.userName};document.getElementById("msg").value="",e.props.socket.emit("message",a,(function(){console.log("Delivered")}))}},"Send"))):n.a.createElement("div",null,alert("You need to join a room first"),n.a.createElement(p.a,{to:"/join"}))}}]),a}(o.Component),w=Object(d.a)((function(e){return{rootCont:{maxWidth:"720px",margin:"0px auto",boxShadow:"none",backgroundColor:"#5A5890",height:"100%"},msgDisplay:{minWidth:"300px",height:"77%",margin:"0 auto",overflowY:"scroll","&:hover":{overflowY:"scroll"},position:"relative",backgroundColor:"#ebebfc"},ownMessage:{marginRight:"12px",backgroundColor:"#514f82",marginBottom:"5px",borderRadius:"16px",maxWidth:"275px",width:"fit-content",right:"0",float:"right",clear:"both",borderTopRightRadius:"0px"},otherMessage:{marginLeft:"12px",backgroundColor:"#5511a8",float:"left",clear:"both",marginBottom:"5px",borderRadius:"16px",maxWidth:"275px",width:"fit-content",borderTopLeftRadius:"0px"},adminMessage:{width:"fit-content",maxWidth:"275px",marginBottom:"5px",backgroundColor:"#8684b5",margin:"5px auto",padding:"0px 6px",opacity:"0.8",borderRadius:"8px",clear:"both"},inputRoot:{backgroundColor:"#d4d3f0"},inputInput:{color:"black"}}}),{withTheme:!0})(N),B=a(50),C=a.n(B),W=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.theme;return n.a.createElement("div",{style:{backgroundColor:"#fff",display:"flex"}},n.a.createElement(h.a,{className:a.rootCont},n.a.createElement(f.a,{style:{fontSize:"40px",fontFamily:"cursive",color:"#fff"}},"Welcome to Manav's Chat Application"),n.a.createElement("br",null),n.a.createElement(f.a,{style:{fontSize:"20px",fontFamily:"cursive",color:"#fff"}},"Please enter details to join/create a chat room"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("form",{stye:{marginTop:"auto",marginBottom:"auto"}},n.a.createElement(x.a,{className:a.inputRoot,InputProps:{className:a.inputInput},varient:"filled",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Type your name",autoFocus:!0,color:"secondary",style:{maxWidth:"300px"}}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(x.a,{className:a.inputRoot,InputProps:{className:a.inputInput},margin:"normal",required:!0,fullWidth:!0,id:"roomName",label:"Type the room name",autoFocus:!0,color:"secondary",style:{maxWidth:"300px"}}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(v.a,{style:{backgroundColor:"#298c18"},type:"submit",variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a=document.getElementById("name").value,o=document.getElementById("roomName").value;e.props.socket.emit("join",{userName:a,roomName:o},(function(t){if(t)return alert(t);e.props.history.push({pathname:"/chat",state:{userName:a,roomName:o}})}))}},"Enter Room"))))}}]),a}(o.Component),j=Object(d.a)((function(e){return{rootCont:{maxWidth:"720px",margin:"0px auto",boxShadow:"none",paddingTop:"20px",paddingBottom:"20px",backgroundColor:"#5A5890",textAlign:"center"},inputRoot:{backgroundColor:"#d4d3f0"},inputInput:{color:"black"}}}),{withTheme:!0})(W),I=a(33),R=C()("https://chat-app-server-mg.herokuapp.com/");var O=function(){return n.a.createElement(I.a,null,n.a.createElement(p.b,{exact:!0,path:"/join",render:function(e){return n.a.createElement(j,Object.assign({},e,{socket:R}))}}),n.a.createElement(p.b,{exact:!0,path:"/chat",render:function(e){return n.a.createElement(w,Object.assign({},e,{socket:R}))}}),n.a.createElement(p.a,{to:"join"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(130)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.0403a662.chunk.js.map